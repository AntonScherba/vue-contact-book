(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-675da4c8"],{"25f0":function(t,n,e){"use strict";var o=e("6eeb"),i=e("825a"),r=e("d039"),s=e("ad6d"),a="toString",u=RegExp.prototype,c=u[a],f=r((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),l=c.name!=a;(f||l)&&o(RegExp.prototype,a,(function(){var t=i(this),n=String(t.source),e=t.flags,o=String(void 0===e&&t instanceof RegExp&&!("flags"in u)?s.call(t):e);return"/"+n+"/"+o}),{unsafe:!0})},"3d5c":function(t,n,e){},"566e":function(t,n,e){"use strict";e("7623")},"5fdb":function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("h1",[t._v("Contact info")]),e("AddInfoForm"),e("button",{staticClass:"undo",attrs:{disabled:!(t.stepIndex>0)},on:{click:t.undo}},[t._v(" Undo last action ")]),e("hr"),e("InfoList",{attrs:{contatsInfo:t.contatsInfo}})],1)},i=[],r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{on:{submit:function(n){return n.preventDefault(),t.addInfo(n)}}},[e("label",[t._v(" Title "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",placeholder:"Email",required:""},domProps:{value:t.title},on:{input:function(n){n.target.composing||(t.title=n.target.value)}}})]),e("label",[t._v(" Body "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],attrs:{type:"text",required:"",placeholder:"JaneDoe@gmail.com"},domProps:{value:t.body},on:{input:function(n){n.target.composing||(t.body=n.target.value)}}})]),e("button",{attrs:{type:"submit"}},[t._v("Add")])])},s=[],a={name:"AddInfoForm",data:function(){return{title:"",body:""}},methods:{addInfo:function(){var t={userId:this.$route.params.id,id:Date.now(),title:this.title,body:this.body};this.$store.commit("addInfo",t),this.title="",this.body=""}}},u=a,c=e("2877"),f=Object(c["a"])(u,r,s,!1,null,null,null),l=f.exports,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",t._l(t.contatsInfo,(function(t,n){return e("Info",{key:n,attrs:{info:t}})})),1)},p=[],m=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("li",[t.isActiveEdit?e("EditInfoForm",{attrs:{info:t.info},on:{save:t.saveEdit}}):e("span",[t._v(" "+t._s(t.info.title+": "+t.info.body)+" ")]),e("div",[e("button",{staticClass:"edit-btn",on:{click:function(n){return t.editInfo()}}},[t._v("Edit")]),e("button",{staticClass:"remove-btn",on:{click:function(n){return t.removeInfo(t.info.id)}}},[t._v(" Ã— ")])])],1)},v=[],h=(e("d3b7"),e("25f0"),function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("form",{on:{submit:function(n){return n.preventDefault(),t.$emit("save")}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.title,expression:"info.title"},{name:"focus",rawName:"v-focus"}],attrs:{type:"text",required:""},domProps:{value:t.info.title},on:{focus:function(n){t.changes={title:"title",value:t.info.title}},input:function(n){n.target.composing||t.$set(t.info,"title",n.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.info.body,expression:"info.body"}],attrs:{type:"text",required:""},domProps:{value:t.info.body},on:{focus:function(n){t.changes={title:"body",value:t.info.body}},input:function(n){n.target.composing||t.$set(t.info,"body",n.target.value)}}}),e("button",{attrs:{type:"submit"}},[t._v("Save")]),e("button",{staticClass:"prev",attrs:{type:"button"},on:{click:t.prev}},[t._v("Prev")])])}),b=[],g={name:"EditInfoForm",props:["info"],data:function(){return{changes:{}}},methods:{prev:function(){this.confirm()&&("title"===this.changes.title?this.info.title=this.changes.value:this.info.body=this.changes.value)},confirm:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){return confirm("Are you sure?")}))}},y=g,I=(e("7e7e"),Object(c["a"])(y,h,b,!1,null,"22be08a2",null)),x=I.exports,_={name:"ContactInfo",components:{EditInfoForm:x},props:["info"],data:function(){return{isActiveEdit:!1}},methods:{editInfo:function(){this.isActiveEdit=!0},saveEdit:function(){this.isActiveEdit=!1},removeInfo:function(t){this.confirm()&&this.$store.commit("removeInfo",t)},confirm:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){return confirm("Are you sure?")}))}},E=_,w=(e("b597"),Object(c["a"])(E,m,v,!1,null,"159958e5",null)),$=w.exports,k={name:"InfoList",props:["contatsInfo"],components:{Info:$}},A=k,C=Object(c["a"])(A,d,p,!1,null,null,null),S=C.exports,N={name:"ContactsInfo",components:{AddInfoForm:l,InfoList:S},data:function(){return{stepBack:[],stepIndex:0,watching:!0}},methods:{undo:function(){this.watching=!1,this.stepIndex>0&&(this.stepIndex--,this.$store.commit("undo",this.stepBack[this.stepIndex]))},deepCoppyArray:function(t){return JSON.parse(JSON.stringify(t))}},computed:{contatsInfo:function(){return this.$store.getters.getContactInfo(this.$route.params.id)}},watch:{contatsInfo:{handler:function(t){this.watching?(this.stepBack.push(this.deepCoppyArray(t)),this.stepIndex=this.stepBack.length-1):this.watching=!0},deep:!0}}},O=N,F=(e("566e"),Object(c["a"])(O,o,i,!1,null,"35b07dca",null));n["default"]=F.exports},7623:function(t,n,e){},"7e7e":function(t,n,e){"use strict";e("8778")},8778:function(t,n,e){},ad6d:function(t,n,e){"use strict";var o=e("825a");t.exports=function(){var t=o(this),n="";return t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.sticky&&(n+="y"),n}},b597:function(t,n,e){"use strict";e("3d5c")}}]);
//# sourceMappingURL=chunk-675da4c8.65b9b388.js.map